<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Paneli - BSU Chat</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body class="admin-page">
    <header class="admin-header">
        <div class="admin-header-content">
            <h1>ğŸ›¡ï¸ Admin Paneli</h1>
            <button class="logout-btn" onclick="adminLogout()">Ã‡Ä±xÄ±ÅŸ</button>
        </div>
    </header>
    
    <div class="admin-container">
        <!-- Admin Dashboard Cards -->
        <div class="admin-grid" id="admin-dashboard">
            <div class="admin-card danger" onclick="showDangerousAccounts()">
                <div class="admin-card-icon">âš ï¸</div>
                <div class="admin-card-title">TÉ™hlÃ¼kÉ™li Hesablar</div>
                <div class="admin-card-desc">16+ ÅŸikayÉ™ti olan istifadÉ™Ã§ilÉ™r</div>
            </div>
            
            <div class="admin-card warning" onclick="showFilterWords()">
                <div class="admin-card-icon">ğŸ”</div>
                <div class="admin-card-title">Filtr SÃ¶zlÉ™ri</div>
                <div class="admin-card-desc">QadaÄŸan edilmiÅŸ sÃ¶zlÉ™ri idarÉ™ et</div>
            </div>
            
            <div class="admin-card primary" onclick="showRulesEditor()">
                <div class="admin-card-icon">ğŸ“œ</div>
                <div class="admin-card-title">Qaydalar</div>
                <div class="admin-card-desc">Sayt qaydalarÄ±nÄ± redaktÉ™ et</div>
            </div>
            
            <div class="admin-card success" onclick="showDailyTopicEditor()">
                <div class="admin-card-icon">â­</div>
                <div class="admin-card-title">GÃ¼nÃ¼n MÃ¶vzusu</div>
                <div class="admin-card-desc">GÃ¼nlÃ¼k mÃ¶vzunu dÉ™yiÅŸdir</div>
            </div>
            
            <div class="admin-card info" onclick="showAllUsers()">
                <div class="admin-card-icon">ğŸ‘¥</div>
                <div class="admin-card-title">BÃ¼tÃ¼n Ä°stifadÉ™Ã§ilÉ™r</div>
                <div class="admin-card-desc">Ä°stifadÉ™Ã§ilÉ™ri idarÉ™ et</div>
            </div>
            
            <div class="admin-card purple" onclick="showMessageExpiry()">
                <div class="admin-card-icon">â°</div>
                <div class="admin-card-title">Mesaj MÃ¼ddÉ™ti</div>
                <div class="admin-card-desc">Avtomatik silinmÉ™ vaxtÄ±nÄ± ayarla</div>
            </div>
            
            <div class="admin-card primary" id="admin-management-card" style="display: none;" onclick="showAdminManagement()">
                <div class="admin-card-icon">ğŸ‘¨â€ğŸ’¼</div>
                <div class="admin-card-title">Alt AdminlÉ™r</div>
                <div class="admin-card-desc">Admin hesablarÄ±nÄ± idarÉ™ et</div>
            </div>
        </div>
        
        <!-- Dangerous Accounts Section -->
        <div id="dangerous-accounts-section" class="hidden">
            <div class="users-table-container">
                <h2>âš ï¸ TÉ™hlÃ¼kÉ™li Hesablar (16+ ÅikayÉ™t)</h2>
                <button class="btn btn-secondary" onclick="showDashboard()">â† Geri</button>
                <table class="users-table" style="margin-top: 20px;">
                    <thead>
                        <tr>
                            <th>Ad Soyad</th>
                            <th>Email</th>
                            <th>FakÃ¼ltÉ™</th>
                            <th>ÅikayÉ™t SayÄ±</th>
                            <th>Status</th>
                            <th>ÆmÉ™liyyat</th>
                        </tr>
                    </thead>
                    <tbody id="dangerous-users-tbody"></tbody>
                </table>
            </div>
        </div>
        
        <!-- Filter Words Section -->
        <div id="filter-words-section" class="hidden">
            <div class="users-table-container">
                <h2>ğŸ” Filtr SÃ¶zlÉ™ri</h2>
                <button class="btn btn-secondary" onclick="showDashboard()">â† Geri</button>
                <div style="margin-top: 20px;">
                    <div class="form-group">
                        <label>QadaÄŸan edilmiÅŸ sÃ¶zlÉ™r (vergÃ¼llÉ™ ayÄ±rÄ±n)</label>
                        <textarea id="filter-words-input" rows="5" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 15px;"></textarea>
                    </div>
                    <button class="btn btn-primary" onclick="saveFilterWords()">Yadda saxla</button>
                </div>
            </div>
        </div>
        
        <!-- Rules Editor Section -->
        <div id="rules-editor-section" class="hidden">
            <div class="users-table-container">
                <h2>ğŸ“œ Qaydalar</h2>
                <button class="btn btn-secondary" onclick="showDashboard()">â† Geri</button>
                <div style="margin-top: 20px;">
                    <div class="form-group">
                        <label>Sayt QaydalarÄ±</label>
                        <textarea id="rules-input" rows="10" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 15px;"></textarea>
                    </div>
                    <button class="btn btn-primary" onclick="saveRules()">Yadda saxla</button>
                </div>
            </div>
        </div>
        
        <!-- Daily Topic Editor Section -->
        <div id="daily-topic-section" class="hidden">
            <div class="users-table-container">
                <h2>â­ GÃ¼nÃ¼n MÃ¶vzusu</h2>
                <button class="btn btn-secondary" onclick="showDashboard()">â† Geri</button>
                <div style="margin-top: 20px;">
                    <div class="form-group">
                        <label>GÃ¼nÃ¼n MÃ¶vzusu</label>
                        <input type="text" id="daily-topic-input" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 15px;">
                    </div>
                    <button class="btn btn-primary" onclick="saveDailyTopic()">Yadda saxla</button>
                </div>
            </div>
        </div>
        
        <!-- All Users Section -->
        <div id="all-users-section" class="hidden">
            <div class="users-table-container">
                <h2>ğŸ‘¥ BÃ¼tÃ¼n Ä°stifadÉ™Ã§ilÉ™r (<span id="total-users">0</span>)</h2>
                <button class="btn btn-secondary" onclick="showDashboard()">â† Geri</button>
                <table class="users-table" style="margin-top: 20px;">
                    <thead>
                        <tr>
                            <th>Ad Soyad</th>
                            <th>Email</th>
                            <th>Telefon</th>
                            <th>FakÃ¼ltÉ™</th>
                            <th>DÉ™rÉ™cÉ™</th>
                            <th>Kurs</th>
                            <th>ÅikayÉ™t</th>
                            <th>Status</th>
                            <th>ÆmÉ™liyyat</th>
                        </tr>
                    </thead>
                    <tbody id="all-users-tbody"></tbody>
                </table>
            </div>
        </div>
        
        <!-- Message Expiry Section -->
        <div id="message-expiry-section" class="hidden">
            <div class="users-table-container">
                <h2>â° Mesaj SilinmÉ™ MÃ¼ddÉ™ti</h2>
                <button class="btn btn-secondary" onclick="showDashboard()">â† Geri</button>
                <div style="margin-top: 20px;">
                    <h3 style="margin-bottom: 15px;">Qrup mesajlarÄ±</h3>
                    <div style="display: flex; gap: 15px; margin-bottom: 30px;">
                        <div class="form-group" style="flex: 2;">
                            <label>MÃ¼ddÉ™t</label>
                            <input type="number" id="group-expiry-value" min="1" max="10080" value="24" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 15px;">
                        </div>
                        <div class="form-group" style="flex: 1;">
                            <label>Vahid</label>
                            <select id="group-expiry-unit" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 15px;">
                                <option value="minutes">DÉ™qiqÉ™</option>
                                <option value="hours" selected>Saat</option>
                            </select>
                        </div>
                    </div>
                    
                    <h3 style="margin-bottom: 15px;">ÅÉ™xsi mesajlar</h3>
                    <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                        <div class="form-group" style="flex: 2;">
                            <label>MÃ¼ddÉ™t</label>
                            <input type="number" id="private-expiry-value" min="1" max="10080" value="48" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 15px;">
                        </div>
                        <div class="form-group" style="flex: 1;">
                            <label>Vahid</label>
                            <select id="private-expiry-unit" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 15px;">
                                <option value="minutes">DÉ™qiqÉ™</option>
                                <option value="hours" selected>Saat</option>
                            </select>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="saveMessageExpiry()">Yadda saxla</button>
                </div>
            </div>
        </div>
        
        <!-- Admin Management Section (Super Admin Only) -->
        <div id="admin-management-section" class="hidden">
            <div class="users-table-container">
                <h2>ğŸ‘¨â€ğŸ’¼ Alt Admin Ä°darÉ™etmÉ™</h2>
                <button class="btn btn-secondary" onclick="showDashboard()">â† Geri</button>
                
                <div style="margin-top: 20px; margin-bottom: 30px;">
                    <h3>Yeni Admin Yarat</h3>
                    <form id="create-admin-form" style="display: flex; gap: 15px; margin-top: 15px;">
                        <input type="text" id="new-admin-username" placeholder="Ä°stifadÉ™Ã§i adÄ±" required style="flex: 1; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px;">
                        <input type="password" id="new-admin-password" placeholder="ÅifrÉ™" required style="flex: 1; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px;">
                        <button type="submit" class="btn btn-primary">Yarat</button>
                    </form>
                </div>
                
                <table class="users-table">
                    <thead>
                        <tr>
                            <th>Ä°stifadÉ™Ã§i adÄ±</th>
                            <th>Rol</th>
                            <th>ÆmÉ™liyyat</th>
                        </tr>
                    </thead>
                    <tbody id="admins-tbody"></tbody>
                </table>
            </div>
        </div>
    </div>
    
    <script src="/js/admin.js"></script>
</body>
</html>
